{
  "hash": "c6bf7a01667007a1f649c93630b34e3a",
  "result": {
    "markdown": "---\ntitle: \"BCB 520 - Final Portfolio Post\"\nsubtitle: \"A Presentation About Something...\"\nauthor: \"Robyn Steveley\"\ndate: \"2024-04-26\"\ncategories: [assignment]\nimage: \"\"\n\ncode-fold: true\ncode-tools: true\ndescription: \"In Progress...\"\ndraft: false\n---\n\n\nQuestions for Movie Data:\n\n1.  Most popular animated movies by county of origin\n2.  How much budget is given in the different studios\n3.  Short movies: what are they like? budget? country\n4.  Which conutries have biggest industries?\n5.  With countries that work together who collaborates the most?\n6.  Release date vs length vs movie studio\n7.  Release date vs budget vs movie studio\n8.  Number of movies made per year line graph (possibly with large countries excluded)\n9.  Budget differences between countries for given time segment\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nAnimated_MOVIES <- read.csv('Animation_Movies.csv')\n\n#convert dates to date objects\nAnimated_MOVIES$release_date <- as.Date(Animated_MOVIES$release_date, format = \"%Y-%m-%d\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Let's make a graph that looks at the number of movies made in each country and colors them by a number gradient. Also maybe make a popup on hover. I could add information about budget over some time period (last 15 years?).\n\nMOVIES_Q2_1 <- Animated_MOVIES %>%\n  filter(!(grepl(\",\", production_countries))) %>%\n  group_by(production_countries) %>%\n  summarise(NumMovies = n())\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Pixar Budgets\n\n#Let's make a graph tracking the rise in budget for different companies over time. Hoe do I make multiple graphs layout nicely next to each other. Let's start with just one graph...\n\nMOVIES_Q1_1 <- Animated_MOVIES %>%\n  filter(grepl(\"Pixar\", production_companies)) %>%\n  filter(runtime > 40) %>%\n  filter(runtime < 140) %>%\n  filter(budget > 0)\n\nggplot(MOVIES_Q1_1, aes(x = reorder(title, +release_date), y = budget/1e6, fill = budget/1e6)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"Pixar Movies\",\n       x = \"Movies\",\n       y = \"Budget (Millions)\",\n       fill = \"\") +\n  #geom_text(aes(label =  title), hjust = +1, color = \"lightyellow\") +\n  theme(panel.background = element_rect(fill = \"lightyellow\"), \n        panel.grid = element_blank(),\n        axis.text.x = element_text(angle = 0, hjust = 0),\n        plot.title = element_text(hjust = 0.1)) +\n  scale_fill_gradient(low = \"blue\", high = \"green\")+\n  theme(axis.text.x = element_text(angle = 0, hjust = 0.5, size = 9, color = \"black\"), \n        axis.text.y = element_text(angle = 0, hjust = 1, size = 9, color = \"black\"))+\n  theme(legend.title = element_text(size = 12, color = \"black\"), \n        legend.text = element_text(size = 9, color = \"black\"),\n        legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](Final_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Studio Ghibli Budgets\n\nMOVIES_Q1_2 <- Animated_MOVIES %>%\n  filter(grepl(\"Studio Ghibli\", production_companies)) %>%\n  filter(runtime > 20) %>%\n  filter(runtime < 140) %>%\n  filter(budget > 0)\n\nggplot(MOVIES_Q1_2, aes(x = reorder(title, +release_date), y = budget/1e6, fill = budget/1e6)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"Studio Ghibli Movies\",\n       x = \"Movies\",\n       y = \"Budget (Millions)\",\n       fill = \"\") +\n  #geom_text(aes(label =  title), hjust = +1, color = \"lightyellow\") +\n  theme(panel.background = element_rect(fill = \"lightyellow\"), \n        panel.grid = element_blank(),\n        axis.text.x = element_text(angle = 90, hjust = 0),\n        plot.title = element_text(hjust = 0.1))+\n  scale_fill_gradient(low = \"blue\", high = \"violet\")+\n  theme(axis.text.x = element_text(angle = 0, hjust = 0.5, size = 9, color = \"black\"), \n        axis.text.y = element_text(angle = 0, hjust = 1, size = 9, color = \"black\"))+\n  theme(legend.title = element_text(size = 12, color = \"black\"), \n        legend.text = element_text(size = 9, color = \"black\"),\n        legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](Final_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#DreamWorks Budgets\n\nMOVIES_Q1_3 <- Animated_MOVIES %>%\n  filter(grepl(\"DreamWorks\", production_companies)) %>%\n  filter(runtime > 40) %>%\n  filter(runtime < 140) %>%\n  filter(budget > 0)\n\nggplot(MOVIES_Q1_3, aes(x = reorder(title, +release_date), y = budget/1e6, fill = budget/1e6)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"DreamWorks Movies\",\n       x = \"Movies\",\n       y = \"Budget\",\n       fill = \"\") +\n  #geom_text(aes(label =  title), hjust = +1, color = \"lightyellow\") +\n  theme(panel.background = element_rect(fill = \"lightyellow\"), \n        panel.grid = element_blank(),\n        axis.text.x = element_text(angle = 90, hjust = 0),\n        plot.title = element_text(hjust = 0.1))+\n  scale_fill_gradient(low = \"navy\", high = \"lightgreen\")+\n  theme(axis.text.x = element_text(angle = 0, hjust = 0.5, size = 9, color = \"black\"), \n        axis.text.y = element_text(angle = 0, hjust = 1, size = 9, color = \"black\"))+\n  theme(legend.title = element_text(size = 12, color = \"black\"), \n        legend.text = element_text(size = 9, color = \"black\"),\n        legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](Final_files/figure-html/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Disney\n\nMOVIES_Q1_4 <- Animated_MOVIES %>%\n  filter(grepl(\"Walt Disney P\", production_companies) & !(grepl(\"Pixar\", production_companies)) & !(grepl(\"Studio Ghibli\", production_companies))) %>%\n  filter(runtime > 40) %>%\n  filter(runtime < 140) %>%\n  filter(budget > 0)\n\nggplot(MOVIES_Q1_4, aes(x = reorder(title, +release_date), y = budget/1e6, fill = budget/1e6)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"Disney Movies\",\n       x = \"Movies\",\n       y = \"Budget\",\n       fill = \"\") +\n  #geom_text(aes(label =  title), hjust = +1, color = \"lightyellow\") +\n  theme(panel.background = element_rect(fill = \"lightyellow\"), \n        panel.grid = element_blank(),\n        axis.text.x = element_text(angle = 90, hjust = 0),\n        plot.title = element_text(hjust = 0.1))+\n  scale_fill_gradient(low = \"navy\", high = \"pink\")+\n  theme(axis.text.x = element_text(angle = 0, hjust = 0.5, size = 9, color = \"black\"), \n        axis.text.y = element_text(angle = 0, hjust = 1, size = 9, color = \"black\"))+\n  theme(legend.title = element_text(size = 12, color = \"black\"), \n        legend.text = element_text(size = 9, color = \"black\"),\n        legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](Final_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Illumination Budgets\n\nMOVIES_Q1_5 <- Animated_MOVIES %>%\n  filter(grepl(\"Illumination\", production_companies)) %>%\n  filter(runtime > 40) %>%\n  filter(runtime < 140) %>%\n  filter(budget > 0)\n\nggplot(MOVIES_Q1_5, aes(x = reorder(title, +release_date), y = budget/1e6, fill = budget/1e6)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"Illumination Movies\",\n       x = \"Movies\",\n       y = \"Budget\",\n       fill = \"\") +\n  #geom_text(aes(label =  title), hjust = +1, color = \"lightyellow\") +\n  theme(panel.background = element_rect(fill = \"lightyellow\"), \n        panel.grid = element_blank(),\n        axis.text.x = element_text(angle = 90, hjust = 0),\n        plot.title = element_text(hjust = 0.1))+\n  scale_fill_gradient(low = \"darkgreen\", high = \"gold\")+\n  theme(axis.text.x = element_text(angle = 0, hjust = 0.5, size = 9, color = \"black\"), \n        axis.text.y = element_text(angle = 0, hjust = 1, size = 9, color = \"black\"))+\n  theme(legend.title = element_text(size = 12, color = \"black\"), \n        legend.text = element_text(size = 9, color = \"black\"),\n        legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](Final_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Blue Sky Budgets\n\nMOVIES_Q1_6 <- Animated_MOVIES %>%\n  filter(grepl(\"Blue Sky\", production_companies)) %>%\n  filter(runtime > 40) %>%\n  filter(runtime < 140) %>%\n  filter(budget > 0)\n\nggplot(MOVIES_Q1_6, aes(x = reorder(title, +release_date), y = budget/1e6, fill = budget/1e6)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"Blue Sky Movies\",\n       x = \"Movies\",\n       y = \"Budget\",\n       fill = \"\") +\n  #geom_text(aes(label =  title), hjust = +1, color = \"lightyellow\") +\n  theme(panel.background = element_rect(fill = \"lightyellow\"), \n        panel.grid = element_blank(),\n        axis.text.x = element_text(angle = 90, hjust = 0),\n        plot.title = element_text(hjust = 0.1))+\n  scale_fill_gradient(low = \"purple\", high = \"yellow\")+\n  theme(axis.text.x = element_text(angle = 0, hjust = 0.5, size = 9, color = \"black\"), \n        axis.text.y = element_text(angle = 0, hjust = 1, size = 9, color = \"black\"))+\n  theme(legend.title = element_text(size = 12, color = \"black\"), \n        legend.text = element_text(size = 9, color = \"black\"),\n        legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](Final_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Sony Budgets\n\nMOVIES_Q1_7 <- Animated_MOVIES %>%\n  filter(grepl(\"Sony Pictures Animation\", production_companies)) %>%\n  filter(runtime > 40) %>%\n  filter(runtime < 140) %>%\n  filter(budget > 0)\n\nggplot(MOVIES_Q1_7, aes(x = reorder(title, +release_date), y = budget/1e6, fill = budget/1e6)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"Sony Movies\",\n       x = \"Movies\",\n       y = \"Budget\",\n       fill = \"\") +\n  #geom_text(aes(label =  title), hjust = +1, color = \"lightyellow\") +\n  theme(panel.background = element_rect(fill = \"lightyellow\"), \n        panel.grid = element_blank(),\n        axis.text.x = element_text(angle = 90, hjust = 0),\n        plot.title = element_text(hjust = 0.1)) +\n  scale_fill_gradient(low = \"blue\", high = \"orange\")+\n  theme(axis.text.x = element_text(angle = 0, hjust = 0.5, size = 9, color = \"black\"), \n        axis.text.y = element_text(angle = 0, hjust = 1, size = 9, color = \"black\"))+\n  theme(legend.title = element_text(size = 12, color = \"black\"), \n        legend.text = element_text(size = 9, color = \"black\"),\n        legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](Final_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nMovie Budgets and Revenue Over Time\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#comparing all budgets\n\nStudios <- c('Disney', 'DreamWorks', \"Pixar\", \"Studio Ghibli\", \"Illumination\", \"Sony Animation\")\nStudio_Colors <- c('Disney' = 'red', 'DreamWorks'= 'blue', \"Pixar\" = 'lightgreen', \"Studio Ghibli\" = 'violet', \"Illumination\" = 'gold', \"Sony Animation\" = 'brown' )\n\n#Grouping data by school and filtering by date and agency\nMOVIES_Q1_A <- Animated_MOVIES %>%\n  filter(runtime > 40) %>%\n  filter(runtime < 140) %>%\n  filter(budget > 0) %>%\n  #filter(release_date > 1980) %>%\n  mutate(company = case_when(\n      grepl(\"Studio Ghibli\", production_companies) ~ \"Studio Ghibli\",\n      grepl(\"Pixar\", production_companies) ~ \"Pixar\",\n      grepl(\"Walt Disney P\", production_companies) ~ \"Disney\",\n      grepl(\"DreamWorks\", production_companies) ~ \"DreamWorks\",\n      grepl(\"Illumination\", production_companies) ~ \"Illumination\",\n      grepl(\"Sony Pictures Animation\", production_companies) ~ \"Sony Animation\",\n      )\n    ) %>%\n  filter(company %in% Studios)\n\n#Movie budgets\np1 <- ggplot(MOVIES_Q1_A, aes(x = reorder(title, +release_date), y = budget/1e6, fill = company)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"Budgets\",\n       x = \"Movies\",\n       y = \"Budget (Millions)\") +\n  #geom_text(aes(label =  title), hjust = +1, color = \"lightyellow\") +\n  scale_fill_manual(values = Studio_Colors, name = \"Production Company\") +\n  theme(panel.background = element_rect(fill = \"lightyellow\"), \n        panel.grid = element_blank(),\n        axis.text.x = element_text(angle = 0, hjust = 0.5, size = 9, color = \"black\"),\n        axis.text.y = element_text(angle = 0, hjust = 1, size = 9, color = \"black\"),                          \n        plot.title = element_text(hjust = 0.1, size = 15)) +\n  theme(legend.title = element_text(size = 12, color = \"black\"), \n        legend.text = element_text(size = 9, color = \"black\"),\n        legend.position = \"none\")\n\n#Movie revenue\np2 <- ggplot(MOVIES_Q1_A, aes(x = reorder(title, +release_date), y = revenue/1e9, fill = company)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"Revenue\",\n       x = \"\",\n       y = \"Revenue (Billions)\",\n       fill = \"Production Company\") +\n  scale_fill_manual(values = Studio_Colors, name = \"Production Company\") +\n  theme(panel.background = element_rect(fill = \"lightyellow\"), \n        panel.grid = element_blank(),\n        plot.title = element_text(hjust = 0.1, size = 15),\n        axis.text.x = element_text(angle = 0, hjust = 0.5, size = 9, color = \"black\"),\n        axis.text.y = element_blank()) +\n  theme(legend.title = element_text(size = 12, color = \"black\"), \n        legend.text = element_text(size = 9, color = \"black\"),\n        legend.position = \"top\",\n        legend.box = \"horizontal\")\n\n#net revenue (revenue - budget)\np3 <- ggplot(MOVIES_Q1_A, aes(x = reorder(title, +release_date), y = (revenue - budget)/1e9, fill = company)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"Net Revenue\",\n       x = \"\",\n       y = \"Net Revenue (Billions)\") +\n  #geom_text(aes(label =  title), hjust = +1, color = \"lightyellow\") +\n  scale_fill_manual(values = Studio_Colors, name = \"Production Company\") +\n  theme(panel.background = element_rect(fill = \"lightyellow\"), \n        panel.grid = element_blank(),\n        plot.title = element_text(hjust = 0.1, size = 15),\n        axis.text.x = element_text(angle = 0, hjust = 0.5, size = 9, color = \"black\"),\n        axis.text.y = element_blank())+\n  theme(legend.title = element_text(size = 12, color = \"black\"), \n        legend.text = element_text(size = 9, color = \"black\"),\n        legend.position = 'none')\n\np1 | p2 | p3\n```\n\n::: {.cell-output-display}\n![](Final_files/figure-html/unnamed-chunk-11-1.png){width=960}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Let's make a graph tracking the change in runtime for different companies over time\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Let's look at a grpah of movies made per year\n\n#Grouping data by school and filtering by date and agency\n#MOVIES_G8 <- Animated_MOVIES %>%\n#  filter(runtime > 40) %>%\n#  filter(runtime < 140) %>%\n#  filter(budget > 0) %>%\n  #filter(release_date > 1980) %>%\n#  mutate(company = case_when(\n#      grepl(\"Walt Disney P\", Institution) ~ \"Disney\",\n#      grepl(\"DreamWorks\", Institution) ~ \"DreamWorks\",\n#      grepl(\"Pixar\", Institution) ~ \"Pixar\",\n#      grepl(\"Studio Ghibli\", Institution) ~ \"Studio Ghibli\",\n#      grepl(\"Illumination\", Institution) ~ \"Illumination\",\n#      grepl(\"Sony Pictures Animation\", Institution) ~ \"Sony Animation\",\n#      )\n#  ) %>%\n#  group_by(company, ) %>%\n#    summarise(awards_count = n())\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#\n\n#MOVIES_Q3_1 <- Animated_MOVIES %>%\n```\n:::\n",
    "supporting": [
      "Final_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}